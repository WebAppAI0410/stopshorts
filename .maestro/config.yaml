# Maestro Configuration for StopShorts
# https://maestro.mobile.dev/

appId: com.stopshorts.app

# Environment variables for tests
env:
  TEST_USER_NAME: "TestUser"
  DEMO_MODE: "true"

flows:
  - flows/onboarding-flow.yaml
  - flows/intervention-select.yaml
  - flows/training-flow.yaml

# Test execution settings
executionOrder: sequential

# Retry flaky tests once
retries: 1

# Timeouts
timeout: 30000

# iOS Simulator settings
ios:
  deviceName: "iPhone 15 Pro"

# Android Emulator settings
android:
  deviceName: "Pixel 7"

# Output settings
output:
  format: "junit"
  path: "./test-results"

# Error handling - take screenshot on failure
onFlowError:
  - takeScreenshot: "error_screenshot"
