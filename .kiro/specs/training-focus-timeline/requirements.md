# Focus Timeline UI - 要件定義

## 概要

トレーニング詳細画面のコンテンツリストを「Focus Timeline」UIパターンに刷新し、ユーザーが次に何をすべきか一目で分かるようにする。

## 背景

### 現状の問題点
1. 全アイテムが同じサイズで散漫
2. どこをタップすべきか不明確
3. 学習の流れが視覚化されていない
4. スペースの無駄遣い

### 参考
- Geminiの提案: `/home/hdyk/.gemini/antigravity/brain/9685ac8d-b6e9-4a30-ab48-2c7419c4b6db/training_ui_consultation.md.resolved`
- モックアップ: `/home/hdyk/.gemini/antigravity/brain/9685ac8d-b6e9-4a30-ab48-2c7419c4b6db/training_detail_timeline_mockup_1767668144581.png`

---

## ユーザーストーリー

### US-1: 現在のタスクを明確に把握
**As a** ユーザー
**I want to** 現在取り組むべきタスクが一目で分かる
**So that** 迷わずに学習を開始できる

### US-2: 進捗の可視化
**As a** ユーザー
**I want to** 完了したタスクと残りのタスクが視覚的に分かる
**So that** 学習の進捗を把握できる

### US-3: 順序立てた学習
**As a** ユーザー
**I want to** コンテンツを順番に進めることを促される
**So that** 効果的な学習順序で進められる

---

## 受け入れ基準

### AC-1: 3つの状態表示
- [ ] 完了状態: ✓アイコン + グレーテキスト + コンパクト1行
- [ ] アクティブ状態: 大きなカード + グロー効果 + 「開始する」ボタン
- [ ] ロック状態: 🔒アイコン + グレーテキスト + コンパクト1行 + タップ不可

### AC-2: タイムライン表示
- [ ] 左側に縦線（タイムライン）が表示される
- [ ] 各ステップにノード（円）が表示される
- [ ] 完了ノードは緑色、アクティブノードはプライマリ色、ロックノードはグレー

### AC-3: インタラクション
- [ ] アクティブカードの「開始する」ボタンをタップで学習開始
- [ ] 完了タスクをタップで再閲覧可能
- [ ] ロックタスクはタップ不可（視覚的にも無効状態）

### AC-4: テーマ対応
- [ ] ライトモード/ダークモード両対応
- [ ] グロー効果がiOS/Android両方で表示される

### AC-5: 品質
- [ ] TypeScriptエラー0
- [ ] 既存の機能（記事表示、クイズ、ワークシート）が正常動作

---

## 非機能要件

### パフォーマンス
- アニメーション: 60fps維持
- 初回描画: 100ms以内

### アクセシビリティ
- タップ領域: 最小44x44px
- コントラスト比: WCAG AA準拠

---

## スコープ外

- トピック一覧画面の変更
- 記事/クイズ/ワークシートのUI変更
- 新しいコンテンツタイプの追加
