# StopShorts - 要件定義書 v1.0

## 0. 文書情報

| 項目 | 内容 |
|------|------|
| 文書名 | 要件定義書 - StopShorts（ショート動画視聴抑制アプリ） |
| バージョン | 1.0 |
| 作成日 | 2025-12-19 |
| 対象プラットフォーム | iOS（App Store公開が主目的） |
| 開発環境 | Windows + EAS Build（クラウド） |

---

## 1. エグゼクティブサマリー

### 1.1 プロダクトビジョン

**「5分で止める、人生を取り戻す」**

ショート動画（TikTok / YouTube Shorts / Instagram Reels）への無意識な依存から脱却し、ユーザーが自分の時間を主体的にコントロールできるようにする行動変容アプリ。

### 1.2 コアバリュー

| 価値 | 説明 |
|------|------|
| **強制的な介入** | 意思力に頼らず、iOSのScreen Time APIでシステムレベルで遮断 |
| **コミットメントデバイス** | 前払い制により「やめたい」意思を経済的にコミット |
| **行動科学に基づく設計** | 習慣ループの分断、実装意図、損失回避を活用 |
| **自己効力感の醸成** | 成功体験の可視化により継続的な行動変容を促進 |

---

## 2. 市場・ユーザー分析

### 2.1 ターゲットユーザー

**プライマリ：デジタルデトックス意識層（18-35歳）**

| セグメント | 特徴 | 動機 |
|-----------|------|------|
| **学生** | 試験期間や就活中にSNSをやめたい | 集中力向上、時間確保 |
| **若手社会人** | 夜の時間を有意義に使いたい | 睡眠改善、自己投資 |
| **クリエイター** | インプット過多から創作時間を確保したい | アウトプット時間の確保 |
| **メンタルヘルス重視層** | SNS疲れ、比較疲れから解放されたい | 精神的健康 |

### 2.2 ペインポイント

```
【表面的な問題】
"気づいたら1時間経っていた"
"寝る前に見始めて睡眠時間が減った"
"やめたいのにやめられない"

【根本的な問題】
- 変動報酬（次の動画が面白いかもしれない）による依存
- 無限スクロールによる終了タイミングの欠如
- 意思力だけでは抗えないアルゴリズム最適化
```

### 2.3 競合分析

| アプリ | 強み | 弱み |
|--------|------|------|
| iOS純正Screen Time | 無料、システム統合 | パーソナライズなし、簡単に解除可能 |
| Freedom | 多プラットフォーム対応 | サブスク高い、日本語対応弱い |
| Forest | ゲーミフィケーション | 能動的に起動が必要 |
| **StopShorts（本アプリ）** | 前払いコミット、パーソナライズ、シンプル | iOS限定（MVP） |

---

## 3. 行動変容設計

### 3.1 理論的基盤

本アプリは以下の行動科学理論を実装に反映する：

#### 3.1.1 習慣ループの分断（BJ Fogg / Charles Duhigg）

```
[キュー] → [ルーティン] → [報酬]

ショート動画の習慣ループ：
退屈・ストレス → ショート動画視聴 → ドーパミン放出

StopShortsによる介入：
退屈・ストレス → ショート動画視聴 → [5分でShield] → 中断
                                    ↓
                              代替行動の提案
```

#### 3.1.2 コミットメントデバイス（行動経済学）

- **前払い制**：金銭的コミットにより「続けなきゃ損」心理を活用
- **損失回避**：「今やめれば返金」より「続ければ節約した時間が可視化」
- **サンクコスト**の正の活用

#### 3.1.3 実装意図（Implementation Intentions）

```
「もし[状況X]になったら、[行動Y]をする」

例：
「もしShield画面が出たら、深呼吸して閉じる」
「もしTikTokを開きたくなったら、散歩する」
```

オンボーディングでユーザー自身に設定させる。

### 3.2 介入設計

| タイミング | 介入内容 | 心理メカニズム |
|-----------|---------|---------------|
| 5分到達時 | Shield表示 + リマインド文言 | 習慣ループの物理的分断 |
| Shield表示時 | パーソナライズされたメッセージ | 自己説得、目的想起 |
| アプリ終了後 | 「節約した時間」表示 | 即時報酬、自己効力感 |
| 翌日 | ストリーク継続通知 | 一貫性の原理 |

---

## 4. 機能要件

### 4.1 MVP（Minimum Viable Product）

#### FR-001: オンボーディング

| ID | 要件 | 受け入れ条件 |
|----|------|-------------|
| FR-001-1 | 価値提案の説明 | 3画面以内で完結 |
| FR-001-2 | 目的設定（Why） | 「なぜやめたいか」を選択/入力 |
| FR-001-3 | Screen Time権限取得 | 拒否時の再案内フロー |
| FR-001-4 | 対象アプリ選択 | Family Controls picker使用 |
| FR-001-5 | 実装意図の設定 | 「Shieldが出たら○○する」を設定 |

#### FR-002: 遮断機能（コア）

| ID | 要件 | 受け入れ条件 |
|----|------|-------------|
| FR-002-1 | 5分到達で遮断 | DeviceActivity → ManagedSettings |
| FR-002-2 | Shield画面表示 | カスタマイズされた文言表示 |
| FR-002-3 | パーソナライズ文言 | 設定した目的に応じた文言 |
| FR-002-4 | 閉じるアクション | 対象アプリを終了させる |

#### FR-003: 統計・可視化

| ID | 要件 | 受け入れ条件 |
|----|------|-------------|
| FR-003-1 | 今日の介入回数 | リアルタイム更新 |
| FR-003-2 | 週間サマリー | 過去7日の推移 |
| FR-003-3 | 節約時間の計算 | 「○時間を取り戻しました」 |
| FR-003-4 | ストリーク表示 | 連続達成日数 |

### 4.2 v1.0（改善版）

| カテゴリ | 機能 |
|---------|------|
| 遮断設定 | しきい値可変（3/5/10/15分） |
| 時間帯設定 | 平日/休日、時間帯別プロファイル |
| 目的テンプレート | 睡眠/学習/仕事/創作/健康 |
| ゲーミフィケーション | バッジ、レベル、週間チャレンジ |
| 振り返り | 週次レポート、月間サマリー |

### 4.3 将来（v2.0以降）

- ファミリー共有（親子間の設定共有）
- チーム機能（友人とのチャレンジ）
- Apple Watch連携
- ウィジェット対応
- 詳細分析（どの時間帯に誘惑が多いか等）

---

## 5. 非機能要件

### 5.1 パフォーマンス

| 項目 | 要件 |
|------|------|
| 遮断応答時間 | 5分到達から1秒以内にShield表示 |
| アプリ起動時間 | 2秒以内 |
| バッテリー消費 | バックグラウンド動作で1%/時間以下 |

### 5.2 セキュリティ・プライバシー

| 項目 | 要件 |
|------|------|
| データ保存 | 利用ログは原則ローカルのみ（MVPはサーバー不要） |
| 暗号化 | 端末内データはiOS標準の暗号化に準拠 |
| 権限 | Screen Time API以外の権限は最小限 |

### 5.3 可用性

| 項目 | 要件 |
|------|------|
| 遮断機能の信頼性 | 99.9%（遮断が効かない = 製品価値崩壊） |
| エラー復帰 | 遮断失敗時の手動介入導線 |

### 5.4 アクセシビリティ

| 項目 | 要件 |
|------|------|
| VoiceOver | 全画面対応 |
| Dynamic Type | 対応 |
| カラーコントラスト | WCAG 2.1 AA準拠 |

---

## 6. 技術制約・リスク

### 6.1 iOS審査制約

| 制約 | 対策 |
|------|------|
| Screen Time APIのマネタイズ禁止（4.10） | 遮断機能は無料、付加価値で課金 |
| Family Controls配布エンタイトルメント | 開発初期からAppleに申請 |
| プライバシーガイドライン | 最小限の権限、ローカル保存 |

### 6.2 技術リスク

| リスク | 影響 | 対策 |
|--------|------|------|
| Expo + iOS拡張がexperimental | ビルド失敗の可能性 | 拡張は最小限に |
| WindowsでiOSローカルビルド不可 | 開発速度低下 | EAS Build中心の運用 |
| Screen Time APIの挙動変更 | 遮断が効かなくなる | iOS beta段階での検証 |

---

## 7. 成功指標（KPI）

### 7.1 北極星指標

**「週間ショート動画視聴時間の削減率」**

### 7.2 詳細KPI

| カテゴリ | 指標 | 目標（3ヶ月後） |
|---------|------|----------------|
| 獲得 | App Store CTR | 5%以上 |
| 獲得 | オンボーディング完了率 | 70%以上 |
| 活性化 | D1継続率 | 50%以上 |
| 活性化 | D7継続率 | 30%以上 |
| リテンション | 月間アクティブ率 | 40%以上 |
| 収益 | 課金転換率 | 5%以上 |
| 成果 | 視聴時間削減率 | 平均30%以上 |

---

## 8. 用語定義

| 用語 | 定義 |
|------|------|
| Shield | Screen Time APIによる遮断画面 |
| 介入 | Shieldが表示されたイベント |
| ストリーク | 連続してShieldを閉じた（対象アプリを終了した）日数 |
| 節約時間 | 介入により推定で防いだ視聴時間 |

---

## 付録A: 参照ドキュメント

- [Screen Time API - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10123/)
- [App Review Guidelines](https://developer.apple.com/app-store/review/guidelines/)
- [Expo iOS App Extensions](https://docs.expo.dev/build-reference/app-extensions/)
- [EAS Build Configuration](https://docs.expo.dev/build/eas-json/)
